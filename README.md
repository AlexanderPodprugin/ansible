Первая лаба:

Задача: попрактиковаться в написании плейбука, со следующими условиями:
-Подготовить стенд на vagrant;
-настроить ansible для доуступа у стенду
-написать плейбук, который устанавливает nginx в конфигурации по умолчанию, с применением модуля yum
-добавить в плейбук копирование новой конфигурации сервиса на стенд 
-должен быть использован мехенизм notify для рестарта nginx после установки или изменения конфигурации

---
Приступим
---
Установка ansible
---
Сначала нам нужно проверить версию питона и версию ansible, команада: python -V и ansible --version
---
Подготовка стенда 
---
Создать каталог ansible 
нам нужно поднять присланный нам Vagrantfile, с помощью команды vagrant up

Для подключения к хосту nginx нам необходимо передать множество параметров. Узнаем эти параметры с помощью vagrant ssh-config.
---
Inventory
---
Чтобы создать свой перый inventory файл, нам нужно прописать команду nano inventory, далее, внутри этого файла нам надо написать некие параметры:

[webservers]
nginx ansible_host=127.0.0.1 ansible_port=2222 ansible_user=vagrant ansible_private_key_file=/home/alex/os_labs2/lab1/.vagrant/machines/nginx/virtualbox/private_key

У каждого пользователя параметры индивидуальны, мы указываем свой порт, свой путь к приватному ключу ssh и тд. Все это мы узнали после команды vagrant ssh-config.


Далее, с помощью команды cat inventory выводим записанный нами в файле скрипт.

И наконец, убеждаемся в том, что Ansible может управлять нашим хостом. Делаем это с помощью команды:
ansible nginx -i inventory -m ping, результат должен быть такой:

nginx | SUCCESS => {
"ansible_facts": {
"discovered_interpreter_python": "/usr/bin/python"
},
"changed": false,
"ping": "pong"
}
 Если результат не SUCCESS, значит ошибка в inventory.

---
ansible.cfg
---

Тааак, чтобы нам каждый раз указывать наш инвентори файл, создадим файл конфигурации 
